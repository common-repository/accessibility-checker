/*! For license information please see frontendHighlighterApp.bundle.js.LICENSE.txt */
(()=>{var t={975:(t,e,n)=>{var i;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function r(t){return function(t,e){var n,i,s,a,c,l,d,u,h,f=1,p=t.length,g="";for(i=0;i<p;i++)if("string"==typeof t[i])g+=t[i];else if("object"==typeof t[i]){if((a=t[i]).keys)for(n=e[f],s=0;s<a.keys.length;s++){if(null==n)throw new Error(r('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));n=n[a.keys[s]]}else n=a.param_no?e[a.param_no]:e[f++];if(o.not_type.test(a.type)&&o.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(r("[sprintf] expecting number but found %T",n));switch(o.number.test(a.type)&&(u=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(a.type)?g+=n:(!o.number.test(a.type)||u&&!a.sign?h="":(h=u?"+":"-",n=n.toString().replace(o.sign,"")),l=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",d=a.width-(h+n).length,c=a.width&&d>0?l.repeat(d):"",g+=a.align?h+n+c:"0"===l?h+c+n:c+h+n)}return g}(function(t){if(a[t])return a[t];for(var e,n=t,i=[],r=0;n;){if(null!==(e=o.text.exec(n)))i.push(e[0]);else if(null!==(e=o.modulo.exec(n)))i.push("%");else{if(null===(e=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){r|=1;var s=[],c=e[2],l=[];if(null===(l=o.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(l[1]);""!==(c=c.substring(l[0].length));)if(null!==(l=o.key_access.exec(c)))s.push(l[1]);else{if(null===(l=o.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(l[1])}e[2]=s}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return a[t]=i}(t),arguments)}function s(t,e){return r.apply(null,[t].concat(e||[]))}var a=Object.create(null);e.sprintf=r,e.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=r,window.vsprintf=s,void 0===(i=function(){return{sprintf:r,vsprintf:s}}.call(e,n,e,t))||(t.exports=i))}()}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=Math.min,e=Math.max,i=Math.round,o=Math.floor,r=t=>({x:t,y:t});function s(t){return t.split("-")[0]}function a(t){return["top","bottom"].includes(s(t))?"y":"x"}function c(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function l(t,e,n){let{reference:i,floating:o}=t;const r=a(e),c=function(t){return"x"===a(t)?"y":"x"}(e),l="y"===c?"height":"width",d=s(e),u="y"===r,h=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,p=i[l]/2-o[l]/2;let g;switch(d){case"top":g={x:h,y:i.y-o.height};break;case"bottom":g={x:h,y:i.y+i.height};break;case"right":g={x:i.x+i.width,y:f};break;case"left":g={x:i.x-o.width,y:f};break;default:g={x:i.x,y:i.y}}switch(function(t){return t.split("-")[1]}(e)){case"start":g[c]-=p*(n&&u?-1:1);break;case"end":g[c]+=p*(n&&u?-1:1)}return g}function d(t){return f(t)?(t.nodeName||"").toLowerCase():"#document"}function u(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function h(t){var e;return null==(e=(f(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function f(t){return t instanceof Node||t instanceof u(t).Node}function p(t){return t instanceof Element||t instanceof u(t).Element}function g(t){return t instanceof HTMLElement||t instanceof u(t).HTMLElement}function v(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof u(t).ShadowRoot)}function b(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=S(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(o)}function m(t){return["table","td","th"].includes(d(t))}function y(t){const e=x(),n=S(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function x(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function w(t){return["html","body","#document"].includes(d(t))}function S(t){return u(t).getComputedStyle(t)}function E(t){return p(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function T(t){if("html"===d(t))return t;const e=t.assignedSlot||t.parentNode||v(t)&&t.host||h(t);return v(e)?e.host:e}function k(t){const e=T(t);return w(e)?t.ownerDocument?t.ownerDocument.body:t.body:g(e)&&b(e)?e:k(e)}function F(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const o=k(t),r=o===(null==(i=t.ownerDocument)?void 0:i.body),s=u(o);return r?e.concat(s,s.visualViewport||[],b(o)?o:[],s.frameElement&&n?F(s.frameElement):[]):e.concat(o,F(o,[],n))}function _(t){const e=S(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=g(t),s=r?t.offsetWidth:n,a=r?t.offsetHeight:o,c=i(n)!==s||i(o)!==a;return c&&(n=s,o=a),{width:n,height:o,$:c}}function L(t){return p(t)?t:t.contextElement}function A(t){const e=L(t);if(!g(e))return r(1);const n=e.getBoundingClientRect(),{width:o,height:s,$:a}=_(e);let c=(a?i(n.width):n.width)/o,l=(a?i(n.height):n.height)/s;return c&&Number.isFinite(c)||(c=1),l&&Number.isFinite(l)||(l=1),{x:c,y:l}}const C=r(0);function D(t){const e=u(t);return x()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:C}function I(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const o=t.getBoundingClientRect(),s=L(t);let a=r(1);e&&(i?p(i)&&(a=A(i)):a=A(t));const l=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==u(t))&&e}(s,n,i)?D(s):r(0);let d=(o.left+l.x)/a.x,h=(o.top+l.y)/a.y,f=o.width/a.x,g=o.height/a.y;if(s){const t=u(s),e=i&&p(i)?u(i):i;let n=t.frameElement;for(;n&&i&&e!==t;){const t=A(n),e=n.getBoundingClientRect(),i=S(n),o=e.left+(n.clientLeft+parseFloat(i.paddingLeft))*t.x,r=e.top+(n.clientTop+parseFloat(i.paddingTop))*t.y;d*=t.x,h*=t.y,f*=t.x,g*=t.y,d+=o,h+=r,n=u(n).frameElement}}return c({width:f,height:g,x:d,y:h})}function N(t){return I(h(t)).left+E(t).scrollLeft}function O(t,n,i){let o;if("viewport"===n)o=function(t,e){const n=u(t),i=h(t),o=n.visualViewport;let r=i.clientWidth,s=i.clientHeight,a=0,c=0;if(o){r=o.width,s=o.height;const t=x();(!t||t&&"fixed"===e)&&(a=o.offsetLeft,c=o.offsetTop)}return{width:r,height:s,x:a,y:c}}(t,i);else if("document"===n)o=function(t){const n=h(t),i=E(t),o=t.ownerDocument.body,r=e(n.scrollWidth,n.clientWidth,o.scrollWidth,o.clientWidth),s=e(n.scrollHeight,n.clientHeight,o.scrollHeight,o.clientHeight);let a=-i.scrollLeft+N(t);const c=-i.scrollTop;return"rtl"===S(o).direction&&(a+=e(n.clientWidth,o.clientWidth)-r),{width:r,height:s,x:a,y:c}}(h(t));else if(p(n))o=function(t,e){const n=I(t,!0,"fixed"===e),i=n.top+t.clientTop,o=n.left+t.clientLeft,s=g(t)?A(t):r(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:o*s.x,y:i*s.y}}(n,i);else{const e=D(t);o={...n,x:n.x-e.x,y:n.y-e.y}}return c(o)}function R(t,e){const n=T(t);return!(n===e||!p(n)||w(n))&&("fixed"===S(n).position||R(n,e))}function P(t,e,n){const i=g(e),o=h(e),s="fixed"===n,a=I(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const l=r(0);if(i||!i&&!s)if(("body"!==d(e)||b(o))&&(c=E(e)),i){const t=I(e,!0,s,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else o&&(l.x=N(o));return{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function B(t,e){return g(t)&&"fixed"!==S(t).position?e?e(t):t.offsetParent:null}function q(t,e){const n=u(t);if(!g(t))return n;let i=B(t,e);for(;i&&m(i)&&"static"===S(i).position;)i=B(i,e);return i&&("html"===d(i)||"body"===d(i)&&"static"===S(i).position&&!y(i))?n:i||function(t){let e=T(t);for(;g(e)&&!w(e);){if(y(e))return e;e=T(e)}return null}(t)||n}const j={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:i}=t;const o=g(n),s=h(n);if(n===s)return e;let a={scrollLeft:0,scrollTop:0},c=r(1);const l=r(0);if((o||!o&&"fixed"!==i)&&(("body"!==d(n)||b(s))&&(a=E(n)),g(n))){const t=I(n);c=A(n),l.x=t.x+n.clientLeft,l.y=t.y+n.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-a.scrollLeft*c.x+l.x,y:e.y*c.y-a.scrollTop*c.y+l.y}},getDocumentElement:h,getClippingRect:function(n){let{element:i,boundary:o,rootBoundary:r,strategy:s}=n;const a=[..."clippingAncestors"===o?function(t,e){const n=e.get(t);if(n)return n;let i=F(t,[],!1).filter((t=>p(t)&&"body"!==d(t))),o=null;const r="fixed"===S(t).position;let s=r?T(t):t;for(;p(s)&&!w(s);){const e=S(s),n=y(s);n||"fixed"!==e.position||(o=null),(r?!n&&!o:!n&&"static"===e.position&&o&&["absolute","fixed"].includes(o.position)||b(s)&&!n&&R(t,s))?i=i.filter((t=>t!==s)):o=e,s=T(s)}return e.set(t,i),i}(i,this._c):[].concat(o),r],c=a[0],l=a.reduce(((n,o)=>{const r=O(i,o,s);return n.top=e(r.top,n.top),n.right=t(r.right,n.right),n.bottom=t(r.bottom,n.bottom),n.left=e(r.left,n.left),n}),O(i,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:q,getElementRects:async function(t){let{reference:e,floating:n,strategy:i}=t;const o=this.getOffsetParent||q,r=this.getDimensions;return{reference:P(e,await o(n),i),floating:{x:0,y:0,...await r(n)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return _(t)},getScale:A,isElement:p,isRTL:function(t){return"rtl"===S(t).direction}};var H=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],M=H.join(","),$="undefined"==typeof Element,G=$?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,W=!$&&Element.prototype.getRootNode?function(t){var e;return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},z=function t(e,n){var i;void 0===n&&(n=!0);var o=null==e||null===(i=e.getAttribute)||void 0===i?void 0:i.call(e,"inert");return""===o||"true"===o||n&&e&&t(e.parentNode)},V=function(t,e,n){if(z(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(M));return e&&G.call(t,M)&&i.unshift(t),i.filter(n)},K=function t(e,n,i){for(var o=[],r=Array.from(e);r.length;){var s=r.shift();if(!z(s,!1))if("SLOT"===s.tagName){var a=s.assignedElements(),c=t(a.length?a:s.children,!0,i);i.flatten?o.push.apply(o,c):o.push({scopeParent:s,candidates:c})}else{G.call(s,M)&&i.filter(s)&&(n||!e.includes(s))&&o.push(s);var l=s.shadowRoot||"function"==typeof i.getShadowRoot&&i.getShadowRoot(s),d=!z(l,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(s));if(l&&d){var u=t(!0===l?s.children:l.children,!0,i);i.flatten?o.push.apply(o,u):o.push({scopeParent:s,candidates:u})}else r.unshift.apply(r,s.children)}}return o},U=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},X=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(t){var e,n=null==t||null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"contenteditable");return""===n||"true"===n}(t))&&!U(t)?0:t.tabIndex},Y=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},J=function(t){return"INPUT"===t.tagName},Z=function(t){var e=t.getBoundingClientRect(),n=e.width,i=e.height;return 0===n&&0===i},Q=function(t,e){return!(e.disabled||z(e)||function(t){return J(t)&&"hidden"===t.type}(e)||function(t,e){var n=e.displayCheck,i=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var o=G.call(t,"details>summary:first-of-type")?t.parentElement:t;if(G.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Z(t)}else{if("function"==typeof i){for(var r=t;t;){var s=t.parentElement,a=W(t);if(s&&!s.shadowRoot&&!0===i(s))return Z(t);t=t.assignedSlot?t.assignedSlot:s||a===t.ownerDocument?s:a.host}t=r}if(function(t){var e,n,i,o,r=t&&W(t),s=null===(e=r)||void 0===e?void 0:e.host,a=!1;if(r&&r!==t)for(a=!!(null!==(n=s)&&void 0!==n&&null!==(i=n.ownerDocument)&&void 0!==i&&i.contains(s)||null!=t&&null!==(o=t.ownerDocument)&&void 0!==o&&o.contains(t));!a&&s;){var c,l,d;a=!(null===(l=s=null===(c=r=W(s))||void 0===c?void 0:c.host)||void 0===l||null===(d=l.ownerDocument)||void 0===d||!d.contains(s))}return a}(t))return!t.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var i=e.children.item(n);if("LEGEND"===i.tagName)return!!G.call(e,"fieldset[disabled] *")||!i.contains(t)}return!0}e=e.parentElement}return!1}(e))},tt=function(t,e){return!(function(t){return function(t){return J(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||W(t),i=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=i(window.CSS.escape(t.name));else try{e=i(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var o=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!o||o===t}(t)}(e)||X(e)<0||!Q(t,e))},et=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},nt=function t(e){var n=[],i=[];return e.forEach((function(e,o){var r=!!e.scopeParent,s=r?e.scopeParent:e,a=function(t,e){var n=X(t);return n<0&&e&&!U(t)?0:n}(s,r),c=r?t(e.candidates):s;0===a?r?n.push.apply(n,c):n.push(s):i.push({documentOrder:o,tabIndex:a,item:e,isScope:r,content:c})})),i.sort(Y).reduce((function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t}),[]).concat(n)},it=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==G.call(t,M)&&tt(e,t)},ot=H.concat("iframe").join(","),rt=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==G.call(t,ot)&&Q(e,t)};function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){var i,o,r;i=t,o=e,r=n[e],(o=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(o))in i?Object.defineProperty(i,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[o]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ct=function(t){return"Tab"===(null==t?void 0:t.key)||9===(null==t?void 0:t.keyCode)},lt=function(t){return ct(t)&&!t.shiftKey},dt=function(t){return ct(t)&&t.shiftKey},ut=function(t){return setTimeout(t,0)},ht=function(t,e){var n=-1;return t.every((function(t,i){return!e(t)||(n=i,!1)})),n},ft=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return"function"==typeof t?t.apply(void 0,n):t},pt=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},gt=[],vt=function(t,e){var n,i=(null==e?void 0:e.document)||document,o=(null==e?void 0:e.trapStack)||gt,r=at({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:lt,isKeyBackward:dt},e),s={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a=function(t,e,n){return t&&void 0!==t[e]?t[e]:r[n||e]},c=function(t,e){var n="function"==typeof(null==e?void 0:e.composedPath)?e.composedPath():void 0;return s.containerGroups.findIndex((function(e){var i=e.container,o=e.tabbableNodes;return i.contains(t)||(null==n?void 0:n.includes(i))||o.find((function(e){return e===t}))}))},l=function(t){var e=r[t];if("function"==typeof e){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];e=e.apply(void 0,o)}if(!0===e&&(e=void 0),!e){if(void 0===e||!1===e)return e;throw new Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var a=e;if("string"==typeof e&&!(a=i.querySelector(e)))throw new Error("`".concat(t,"` as selector refers to no known node"));return a},d=function(){var t=l("initialFocus");if(!1===t)return!1;if(void 0===t||!rt(t,r.tabbableOptions))if(c(i.activeElement)>=0)t=i.activeElement;else{var e=s.tabbableGroups[0];t=e&&e.firstTabbableNode||l("fallbackFocus")}if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t},u=function(){if(s.containerGroups=s.containers.map((function(t){var e=function(t,e){var n;return n=(e=e||{}).getShadowRoot?K([t],e.includeContainer,{filter:tt.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:et}):V(t,e.includeContainer,tt.bind(null,e)),nt(n)}(t,r.tabbableOptions),n=function(t,e){return(e=e||{}).getShadowRoot?K([t],e.includeContainer,{filter:Q.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):V(t,e.includeContainer,Q.bind(null,e))}(t,r.tabbableOptions),i=e.length>0?e[0]:void 0,o=e.length>0?e[e.length-1]:void 0,s=n.find((function(t){return it(t)})),a=n.slice().reverse().find((function(t){return it(t)})),c=!!e.find((function(t){return X(t)>0}));return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:c,firstTabbableNode:i,lastTabbableNode:o,firstDomTabbableNode:s,lastDomTabbableNode:a,nextTabbableNode:function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.indexOf(t);return o<0?i?n.slice(n.indexOf(t)+1).find((function(t){return it(t)})):n.slice(0,n.indexOf(t)).reverse().find((function(t){return it(t)})):e[o+(i?1:-1)]}}})),s.tabbableGroups=s.containerGroups.filter((function(t){return t.tabbableNodes.length>0})),s.tabbableGroups.length<=0&&!l("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(s.containerGroups.find((function(t){return t.posTabIndexesFound}))&&s.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function t(e){var n=e.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?t(n.shadowRoot):n},f=function t(e){!1!==e&&e!==h(document)&&(e&&e.focus?(e.focus({preventScroll:!!r.preventScroll}),s.mostRecentlyFocusedNode=e,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(e)&&e.select()):t(d()))},p=function(t){var e=l("setReturnFocus",t);return e||!1!==e&&t},g=function(t){var e=t.target,n=t.event,i=t.isBackward,o=void 0!==i&&i;e=e||pt(n),u();var a=null;if(s.tabbableGroups.length>0){var d=c(e,n),h=d>=0?s.containerGroups[d]:void 0;if(d<0)a=o?s.tabbableGroups[s.tabbableGroups.length-1].lastTabbableNode:s.tabbableGroups[0].firstTabbableNode;else if(o){var f=ht(s.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e===n}));if(f<0&&(h.container===e||rt(e,r.tabbableOptions)&&!it(e,r.tabbableOptions)&&!h.nextTabbableNode(e,!1))&&(f=d),f>=0){var p=0===f?s.tabbableGroups.length-1:f-1,g=s.tabbableGroups[p];a=X(e)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else ct(n)||(a=h.nextTabbableNode(e,!1))}else{var v=ht(s.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e===n}));if(v<0&&(h.container===e||rt(e,r.tabbableOptions)&&!it(e,r.tabbableOptions)&&!h.nextTabbableNode(e))&&(v=d),v>=0){var b=v===s.tabbableGroups.length-1?0:v+1,m=s.tabbableGroups[b];a=X(e)>=0?m.firstTabbableNode:m.firstDomTabbableNode}else ct(n)||(a=h.nextTabbableNode(e))}}else a=l("fallbackFocus");return a},v=function(t){var e=pt(t);c(e,t)>=0||(ft(r.clickOutsideDeactivates,t)?n.deactivate({returnFocus:r.returnFocusOnDeactivate}):ft(r.allowOutsideClick,t)||t.preventDefault())},b=function(t){var e=pt(t),n=c(e,t)>=0;if(n||e instanceof Document)n&&(s.mostRecentlyFocusedNode=e);else{var i;t.stopImmediatePropagation();var o=!0;if(s.mostRecentlyFocusedNode)if(X(s.mostRecentlyFocusedNode)>0){var a=c(s.mostRecentlyFocusedNode),l=s.containerGroups[a].tabbableNodes;if(l.length>0){var u=l.findIndex((function(t){return t===s.mostRecentlyFocusedNode}));u>=0&&(r.isKeyForward(s.recentNavEvent)?u+1<l.length&&(i=l[u+1],o=!1):u-1>=0&&(i=l[u-1],o=!1))}}else s.containerGroups.some((function(t){return t.tabbableNodes.some((function(t){return X(t)>0}))}))||(o=!1);else o=!1;o&&(i=g({target:s.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(s.recentNavEvent)})),f(i||s.mostRecentlyFocusedNode||d())}s.recentNavEvent=void 0},m=function(t){if(("Escape"===(null==(e=t)?void 0:e.key)||"Esc"===(null==e?void 0:e.key)||27===(null==e?void 0:e.keyCode))&&!1!==ft(r.escapeDeactivates,t))return t.preventDefault(),void n.deactivate();var e;(r.isKeyForward(t)||r.isKeyBackward(t))&&function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.recentNavEvent=t;var n=g({event:t,isBackward:e});n&&(ct(t)&&t.preventDefault(),f(n))}(t,r.isKeyBackward(t))},y=function(t){var e=pt(t);c(e,t)>=0||ft(r.clickOutsideDeactivates,t)||ft(r.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())},x=function(){if(s.active)return function(t,e){if(t.length>0){var n=t[t.length-1];n!==e&&n.pause()}var i=t.indexOf(e);-1===i||t.splice(i,1),t.push(e)}(o,n),s.delayInitialFocusTimer=r.delayInitialFocus?ut((function(){f(d())})):f(d()),i.addEventListener("focusin",b,!0),i.addEventListener("mousedown",v,{capture:!0,passive:!1}),i.addEventListener("touchstart",v,{capture:!0,passive:!1}),i.addEventListener("click",y,{capture:!0,passive:!1}),i.addEventListener("keydown",m,{capture:!0,passive:!1}),n},w=function(){if(s.active)return i.removeEventListener("focusin",b,!0),i.removeEventListener("mousedown",v,!0),i.removeEventListener("touchstart",v,!0),i.removeEventListener("click",y,!0),i.removeEventListener("keydown",m,!0),n},S="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(t){t.some((function(t){return Array.from(t.removedNodes).some((function(t){return t===s.mostRecentlyFocusedNode}))}))&&f(d())})):void 0,E=function(){S&&(S.disconnect(),s.active&&!s.paused&&s.containers.map((function(t){S.observe(t,{subtree:!0,childList:!0})})))};return(n={get active(){return s.active},get paused(){return s.paused},activate:function(t){if(s.active)return this;var e=a(t,"onActivate"),n=a(t,"onPostActivate"),o=a(t,"checkCanFocusTrap");o||u(),s.active=!0,s.paused=!1,s.nodeFocusedBeforeActivation=i.activeElement,null==e||e();var r=function(){o&&u(),x(),E(),null==n||n()};return o?(o(s.containers.concat()).then(r,r),this):(r(),this)},deactivate:function(t){if(!s.active)return this;var e=at({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},t);clearTimeout(s.delayInitialFocusTimer),s.delayInitialFocusTimer=void 0,w(),s.active=!1,s.paused=!1,E(),function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}(o,n);var i=a(e,"onDeactivate"),c=a(e,"onPostDeactivate"),l=a(e,"checkCanReturnFocus"),d=a(e,"returnFocus","returnFocusOnDeactivate");null==i||i();var u=function(){ut((function(){d&&f(p(s.nodeFocusedBeforeActivation)),null==c||c()}))};return d&&l?(l(p(s.nodeFocusedBeforeActivation)).then(u,u),this):(u(),this)},pause:function(t){if(s.paused||!s.active)return this;var e=a(t,"onPause"),n=a(t,"onPostPause");return s.paused=!0,null==e||e(),w(),E(),null==n||n(),this},unpause:function(t){if(!s.paused||!s.active)return this;var e=a(t,"onUnpause"),n=a(t,"onPostUnpause");return s.paused=!1,null==e||e(),u(),x(),E(),null==n||n(),this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return s.containers=e.map((function(t){return"string"==typeof t?i.querySelector(t):t})),s.active&&u(),E(),this}}).updateContainerElements(t),n},bt=n(975),mt=n.n(bt);const yt=function(t,e){var n,i,o=0;function r(){var r,s,a=n,c=arguments.length;t:for(;a;){if(a.args.length===arguments.length){for(s=0;s<c;s++)if(a.args[s]!==arguments[s]){a=a.next;continue t}return a!==n&&(a===i&&(i=a.prev),a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.next=n,a.prev=null,n.prev=a,n=a),a.val}a=a.next}for(r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return a={args:r,val:t.apply(null,r)},n?(n.prev=a,a.next=n):i=a,o===e.maxSize?(i=i.prev).next=null:o++,n=a,a.val}return e=e||{},r.clear=function(){n=null,i=null,o=0},r}(console.error);var xt,wt,St,Et;xt={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},wt=["(","?"],St={")":["("],":":["?","?:"]},Et=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var Tt={"!":function(t){return!t},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"?:":function(t,e,n){if(t)throw e;return n}};var kt={contextDelimiter:"",onMissingKey:null};function Ft(t,e){var n;for(n in this.data=t,this.pluralForms={},this.options={},kt)this.options[n]=void 0!==e&&n in e?e[n]:kt[n]}Ft.prototype.getPluralForm=function(t,e){var n,i,o,r,s=this.pluralForms[t];return s||("function"!=typeof(o=(n=this.data[t][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(i=function(t){var e,n,i;for(e=t.split(";"),n=0;n<e.length;n++)if(0===(i=e[n].trim()).indexOf("plural="))return i.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),r=function(t){var e=function(t){for(var e,n,i,o,r=[],s=[];e=t.match(Et);){for(n=e[0],(i=t.substr(0,e.index).trim())&&r.push(i);o=s.pop();){if(St[n]){if(St[n][0]===o){n=St[n][1]||n;break}}else if(wt.indexOf(o)>=0||xt[o]<xt[n]){s.push(o);break}r.push(o)}St[n]||s.push(n),t=t.substr(e.index+n.length)}return(t=t.trim())&&r.push(t),r.concat(s.reverse())}(t);return function(t){return function(t,e){var n,i,o,r,s,a,c=[];for(n=0;n<t.length;n++){if(s=t[n],r=Tt[s]){for(i=r.length,o=Array(i);i--;)o[i]=c.pop();try{a=r.apply(null,o)}catch(t){return t}}else a=e.hasOwnProperty(s)?e[s]:+s;c.push(a)}return c[0]}(e,t)}}(i),o=function(t){return+r({n:t})}),s=this.pluralForms[t]=o),s(e)},Ft.prototype.dcnpgettext=function(t,e,n,i,o){var r,s,a;return r=void 0===o?0:this.getPluralForm(t,o),s=n,e&&(s=e+this.options.contextDelimiter+n),(a=this.data[t][s])&&a[r]?a[r]:(this.options.onMissingKey&&this.options.onMissingKey(n,t),0===r?n:i)};const _t={plural_forms:t=>1===t?0:1},Lt=/^i18n\.(n?gettext|has_translation)(_|$)/,At=function(t){return"string"!=typeof t||""===t?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)},Ct=function(t){return"string"!=typeof t||""===t?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(t)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)},Dt=function(t,e){return function(n,i,o,r=10){const s=t[e];if(!Ct(n))return;if(!At(i))return;if("function"!=typeof o)return void console.error("The hook callback must be a function.");if("number"!=typeof r)return void console.error("If specified, the hook priority must be a number.");const a={callback:o,priority:r,namespace:i};if(s[n]){const t=s[n].handlers;let e;for(e=t.length;e>0&&!(r>=t[e-1].priority);e--);e===t.length?t[e]=a:t.splice(e,0,a),s.__current.forEach((t=>{t.name===n&&t.currentIndex>=e&&t.currentIndex++}))}else s[n]={handlers:[a],runs:0};"hookAdded"!==n&&t.doAction("hookAdded",n,i,o,r)}},It=function(t,e,n=!1){return function(i,o){const r=t[e];if(!Ct(i))return;if(!n&&!At(o))return;if(!r[i])return 0;let s=0;if(n)s=r[i].handlers.length,r[i]={runs:r[i].runs,handlers:[]};else{const t=r[i].handlers;for(let e=t.length-1;e>=0;e--)t[e].namespace===o&&(t.splice(e,1),s++,r.__current.forEach((t=>{t.name===i&&t.currentIndex>=e&&t.currentIndex--})))}return"hookRemoved"!==i&&t.doAction("hookRemoved",i,o),s}},Nt=function(t,e){return function(n,i){const o=t[e];return void 0!==i?n in o&&o[n].handlers.some((t=>t.namespace===i)):n in o}},Ot=function(t,e,n=!1){return function(i,...o){const r=t[e];r[i]||(r[i]={handlers:[],runs:0}),r[i].runs++;const s=r[i].handlers;if(!s||!s.length)return n?o[0]:void 0;const a={name:i,currentIndex:0};for(r.__current.push(a);a.currentIndex<s.length;){const t=s[a.currentIndex].callback.apply(null,o);n&&(o[0]=t),a.currentIndex++}return r.__current.pop(),n?o[0]:void 0}},Rt=function(t,e){return function(){var n;const i=t[e];return null!==(n=i.__current[i.__current.length-1]?.name)&&void 0!==n?n:null}},Pt=function(t,e){return function(n){const i=t[e];return void 0===n?void 0!==i.__current[0]:!!i.__current[0]&&n===i.__current[0].name}},Bt=function(t,e){return function(n){const i=t[e];if(Ct(n))return i[n]&&i[n].runs?i[n].runs:0}};class qt{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=Dt(this,"actions"),this.addFilter=Dt(this,"filters"),this.removeAction=It(this,"actions"),this.removeFilter=It(this,"filters"),this.hasAction=Nt(this,"actions"),this.hasFilter=Nt(this,"filters"),this.removeAllActions=It(this,"actions",!0),this.removeAllFilters=It(this,"filters",!0),this.doAction=Ot(this,"actions"),this.applyFilters=Ot(this,"filters",!0),this.currentAction=Rt(this,"actions"),this.currentFilter=Rt(this,"filters"),this.doingAction=Pt(this,"actions"),this.doingFilter=Pt(this,"filters"),this.didAction=Bt(this,"actions"),this.didFilter=Bt(this,"filters")}}const jt=new qt,{addAction:Ht,addFilter:Mt,removeAction:$t,removeFilter:Gt,hasAction:Wt,hasFilter:zt,removeAllActions:Vt,removeAllFilters:Kt,doAction:Ut,applyFilters:Xt,currentAction:Yt,currentFilter:Jt,doingAction:Zt,doingFilter:Qt,didAction:te,didFilter:ee,actions:ne,filters:ie}=jt,oe=((t,e,n)=>{const i=new Ft({}),o=new Set,r=()=>{o.forEach((t=>t()))},s=(t,e="default")=>{i.data[e]={...i.data[e],...t},i.data[e][""]={..._t,...i.data[e]?.[""]},delete i.pluralForms[e]},a=(t,e)=>{s(t,e),r()},c=(t="default",e,n,o,r)=>(i.data[t]||s(void 0,t),i.dcnpgettext(t,e,n,o,r)),l=(t="default")=>t,d=(t,e,i)=>{let o=c(i,e,t);return n?(o=n.applyFilters("i18n.gettext_with_context",o,t,e,i),n.applyFilters("i18n.gettext_with_context_"+l(i),o,t,e,i)):o};if(n){const t=t=>{Lt.test(t)&&r()};n.addAction("hookAdded","core/i18n",t),n.addAction("hookRemoved","core/i18n",t)}return{getLocaleData:(t="default")=>i.data[t],setLocaleData:a,addLocaleData:(t,e="default")=>{i.data[e]={...i.data[e],...t,"":{..._t,...i.data[e]?.[""],...t?.[""]}},delete i.pluralForms[e],r()},resetLocaleData:(t,e)=>{i.data={},i.pluralForms={},a(t,e)},subscribe:t=>(o.add(t),()=>o.delete(t)),__:(t,e)=>{let i=c(e,void 0,t);return n?(i=n.applyFilters("i18n.gettext",i,t,e),n.applyFilters("i18n.gettext_"+l(e),i,t,e)):i},_x:d,_n:(t,e,i,o)=>{let r=c(o,void 0,t,e,i);return n?(r=n.applyFilters("i18n.ngettext",r,t,e,i,o),n.applyFilters("i18n.ngettext_"+l(o),r,t,e,i,o)):r},_nx:(t,e,i,o,r)=>{let s=c(r,o,t,e,i);return n?(s=n.applyFilters("i18n.ngettext_with_context",s,t,e,i,o,r),n.applyFilters("i18n.ngettext_with_context_"+l(r),s,t,e,i,o,r)):s},isRTL:()=>"rtl"===d("ltr","text direction"),hasTranslation:(t,e,o)=>{const r=e?e+""+t:t;let s=!!i.data?.[null!=o?o:"default"]?.[r];return n&&(s=n.applyFilters("i18n.has_translation",s,t,e,o),s=n.applyFilters("i18n.has_translation_"+l(o),s,t,e,o)),s}}})(0,0,jt),re=(oe.getLocaleData.bind(oe),oe.setLocaleData.bind(oe),oe.resetLocaleData.bind(oe),oe.subscribe.bind(oe),oe.__.bind(oe)),se=(oe._x.bind(oe),oe._n.bind(oe),oe._nx.bind(oe),oe.isRTL.bind(oe),oe.hasTranslation.bind(oe),t=>{const e={};t.querySelectorAll("input, select, textarea").forEach((t=>{t.addEventListener("change",(()=>{document.dispatchEvent(new CustomEvent("edac-fix-settings-change"))}));const n=t.getAttribute("data-fix-slug");n&&(void 0===e[n]&&(e[n]={}),"checkbox"===t.type?e[n][t.name]=t.checked:e[n][t.name]=t.value)}));const n=t.querySelectorAll("button");n.forEach((t=>{t.disabled=!0})),t.classList.add("edac-fix-settings--saving");const i=t.querySelector("[aria-live]");i&&(i.innerText=re("Saving...","accessibility-checker")),fetch("/wp-json/edac/v1/fixes/update/",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.edacSettings?.nonce??window.edac_script_vars?.restNonce??window.edacFrontendHighlighterApp?.restNonce},body:JSON.stringify(e)}).then((e=>{t.classList.remove("edac-fix-settings--saving"),n.forEach((t=>{t.disabled=!1})),e.ok?(t.classList.remove("edac-fix-settings--saved--error"),t.classList.add("edac-fix-settings--saved--success"),i&&(window?.edacFrontendHighlighterApp?.editorLink?.length?i.innerHTML=function(t,...e){try{return mt().sprintf(t,...e)}catch(e){return e instanceof Error&&yt("sprintf error: \n\n"+e.toString()),t}}(re("Settings saved successfully. You must %svisit the editor%s and save the post to rescan and remove fixed issues from Accessibility Checker reports.","accessibility-checker"),`<a href="${window.edacFrontendHighlighterApp.editorLink}">`,"</a>"):i.innerText=re("Settings saved successfully.","accessibility-checker"))):(t.classList.add("edac-fix-settings--saved--error"),t.querySelector("[aria-live]").innerText=re("Saving failed.","accessibility-checker")),document.dispatchEvent(new CustomEvent("edac-fix-settings-saved",{detail:{success:e.ok}}))}))});let ae=null;const ce=new Event("edac-fixes-modal-closed",{bubbles:!0}),le=[],de=()=>{const t=document.getElementById("edac-fixes-modal");t.classList.remove("edac-fixes-modal--open"),t.setAttribute("aria-hidden","true"),t.setAttribute("aria-modal","false");const e=t.querySelector(".edac-fix-settings--clone--wrapper").children[0];document.querySelector(".edac-fix-settings--origin-placeholder").replaceWith(e),Array.from(document.body.children).forEach((t=>{"true"===t.getAttribute("data-hidden-by-modal")&&(t.removeAttribute("aria-hidden","false"),t.removeAttribute("data-hidden-by-modal","false"))})),document.body.classList.remove("edac-fixes-modal--open"),ae&&ae.focus(),ue(),document.dispatchEvent(ce)},ue=()=>{le.forEach((({field:t,changeListener:e})=>{t.removeEventListener("change",e)}))};class he{constructor(t={}){this.settings={showIgnored:!1,...t},this.highlightPanel=this.addHighlightPanel(),this.nextButton=document.querySelector("#edac-highlight-next"),this.previousButton=document.querySelector("#edac-highlight-previous"),this.panelToggle=document.querySelector("#edac-highlight-panel-toggle"),this.closePanel=document.querySelector("#edac-highlight-panel-controls-close"),this.panelDescription=document.querySelector("#edac-highlight-panel-description"),this.panelControls=document.querySelector("#edac-highlight-panel-controls"),this.descriptionCloseButton=document.querySelector(".edac-highlight-panel-description-close"),this.issues=null,this.fixes=null,this.currentButtonIndex=null,this.urlParameter=this.get_url_parameter("edac"),this.currentIssueStatus=null,this.tooltips=[],this.panelControlsFocusTrap=vt("#"+this.panelControls.id,{clickOutsideDeactivates:!0,escapeDeactivates:()=>{this.panelClose()}}),this.panelDescriptionFocusTrap=vt("#"+this.panelDescription.id,{clickOutsideDeactivates:!0,escapeDeactivates:()=>{this.descriptionClose()}}),this.disableStylesButton=document.querySelector("#edac-highlight-disable-styles"),this.stylesDisabled=!1,this.originalCss=[],this.init()}init(){this.nextButton.addEventListener("click",(()=>{this.highlightFocusNext(),this.focusTrapDescription()})),this.previousButton.addEventListener("click",(()=>{this.highlightFocusPrevious(),this.focusTrapDescription()})),this.panelToggle.addEventListener("click",(()=>{this.panelOpen(),this.focusTrapControls()})),this.closePanel.addEventListener("click",(()=>{this.panelClose(),this.panelControlsFocusTrap.deactivate(),this.panelDescriptionFocusTrap.deactivate(),this.enableStyles()})),this.descriptionCloseButton.addEventListener("click",(()=>this.descriptionClose())),this.disableStylesButton.addEventListener("click",(()=>{this.stylesDisabled?this.enableStyles():this.disableStyles()})),this.urlParameter&&this.panelOpen(this.urlParameter)}findElement(t,e){let n=t.object;const i=(new DOMParser).parseFromString(n,"text/html").body.firstElementChild;i&&(n=i.outerHTML);const o=document.body.querySelectorAll("*");for(const i of o)if(i.outerHTML.replace(/\W/g,"")===n.replace(/\W/g,"")){const n=this.addTooltip(i,t,e,this.issues.length);return this.issues[e].tooltip=n.tooltip,this.tooltips.push(n),i}return null}highlightAjax(){const t=this;return new Promise((function(e,n){const i=new XMLHttpRequest,o=edacFrontendHighlighterApp.ajaxurl+"?action=edac_frontend_highlight_ajax&post_id="+edacFrontendHighlighterApp.postID+"&nonce="+edacFrontendHighlighterApp.nonce;t.showWait(!0),i.open("GET",o),i.onload=function(){if(200===i.status){t.showWait(!1);const n=JSON.parse(i.responseText);if(!0===n.success){const i=JSON.parse(n.data);t.settings.showIgnored?e({issues:i.issues,fixes:i.fixes}):e({issues:i.issues.filter((e=>null!==e.rule_type&&(e.id===t.urlParameter||"ignored"!==e.rule_type))),fixes:i.fixes})}else e([])}else t.showWait(!1),n({status:i.status,statusText:i.statusText})},i.onerror=function(){t.showWait(!1),n({status:i.status,statusText:i.statusText})},i.send()}))}showWait(t=!0){t?document.querySelector("body").classList.add("edac-app-wait"):document.querySelector("body").classList.remove("edac-app-wait")}removeHighlightButtons(){this.tooltips.forEach((t=>{t.tooltip.removeEventListener("click",t.listeners.onClick),t.listeners.cleanup()})),document.querySelectorAll(".edac-highlight-btn").forEach((t=>{t.remove()}))}addTooltip(n,i,r,s){const a=document.createElement("button");a.classList="edac-highlight-btn edac-highlight-btn-"+i.rule_type,a.setAttribute("aria-label",`Open details for ${i.rule_title}, ${r+1} of ${s}`),a.setAttribute("aria-expanded","false"),a.setAttribute("aria-haspopup","dialog"),a.dataset.id=i.id;const c=t=>{const e=t.currentTarget.dataset.id;this.showIssue(e)};a.addEventListener("click",c),document.body.append(a);const d=function(n,i,r,s){void 0===s&&(s={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:u=!1}=s,f=L(n),p=a||c?[...f?F(f):[],...F(i)]:[];p.forEach((t=>{a&&t.addEventListener("scroll",r,{passive:!0}),c&&t.addEventListener("resize",r)}));const g=f&&d?function(n,i){let r,s=null;const a=h(n);function c(){clearTimeout(r),s&&s.disconnect(),s=null}return function l(d,u){void 0===d&&(d=!1),void 0===u&&(u=1),c();const{left:h,top:f,width:p,height:g}=n.getBoundingClientRect();if(d||i(),!p||!g)return;const v={rootMargin:-o(f)+"px "+-o(a.clientWidth-(h+p))+"px "+-o(a.clientHeight-(f+g))+"px "+-o(h)+"px",threshold:e(0,t(1,u))||1};let b=!0;function m(t){const e=t[0].intersectionRatio;if(e!==u){if(!b)return l();e?l(!1,e):r=setTimeout((()=>{l(!1,1e-7)}),100)}b=!1}try{s=new IntersectionObserver(m,{...v,root:a.ownerDocument})}catch(t){s=new IntersectionObserver(m,v)}s.observe(n)}(!0),c}(f,r):null;let v,b=-1,m=null;l&&(m=new ResizeObserver((t=>{let[e]=t;e&&e.target===f&&m&&(m.unobserve(i),cancelAnimationFrame(b),b=requestAnimationFrame((()=>{m&&m.observe(i)}))),r()})),f&&!u&&m.observe(f),m.observe(i));let y=u?I(n):null;return u&&function t(){const e=I(n);!y||e.x===y.x&&e.y===y.y&&e.width===y.width&&e.height===y.height||r(),y=e,v=requestAnimationFrame(t)}(),r(),()=>{p.forEach((t=>{a&&t.removeEventListener("scroll",r),c&&t.removeEventListener("resize",r)})),g&&g(),m&&m.disconnect(),m=null,u&&cancelAnimationFrame(v)}}(n,a,(function(){((t,e,n)=>{const i=new Map,o={platform:j,...n},r={...o.platform,_c:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:s}=n,a=r.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(e));let d=await s.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:h}=l(d,i,c),f=i,p={},g=0;for(let n=0;n<a.length;n++){const{name:r,fn:v}=a[n],{x:b,y:m,data:y,reset:x}=await v({x:u,y:h,initialPlacement:i,placement:f,strategy:o,middlewareData:p,rects:d,platform:s,elements:{reference:t,floating:e}});u=null!=b?b:u,h=null!=m?m:h,p={...p,[r]:{...p[r],...y}},x&&g<=50&&(g++,"object"==typeof x&&(x.placement&&(f=x.placement),x.rects&&(d=!0===x.rects?await s.getElementRects({reference:t,floating:e,strategy:o}):x.rects),({x:u,y:h}=l(d,f,c))),n=-1)}return{x:u,y:h,placement:f,strategy:o,middlewareData:p}})(t,e,{...o,platform:r})})(n,a,{placement:"top-start",middleware:[]}).then((({x:t,y:e,middlewareData:i,placement:o})=>{const r=n.getBoundingClientRect(),s=void 0===n.offsetHeight?0:n.offsetHeight,c=void 0===n.offsetWidth?0:n.offsetWidth,l=void 0===a.offsetHeight?0:a.offsetHeight,d=void 0===a.offsetWidth?0:a.offsetWidth;let u=0;l<=.8*s&&(u=l),d>=.8*c&&(u=0),r.left<d&&(t=0),r.left>window.screen&&(t=window.screen.width-d),r.top<l&&(e=0),Object.assign(a.style,{left:`${t+0}px`,top:`${e+u}px`})}))}),{ancestorScroll:!0,ancestorResize:!0,elementResize:!0,layoutShift:!0,animationFrame:!0});return{element:n,tooltip:a,listeners:{onClick:c,cleanup:d}}}addHighlightPanel(){const t=`\n\t\t\t<div id="edac-highlight-panel" class="edac-highlight-panel edac-highlight-panel--${edacFrontendHighlighterApp.widgetPosition||"right"}">\n\t\t\t<button id="edac-highlight-panel-toggle" class="edac-highlight-panel-toggle" aria-haspopup="dialog" aria-label="Accessibility Checker Tools"></button>\n\t\t\t<div id="edac-highlight-panel-description" class="edac-highlight-panel-description" role="dialog" aria-labelledby="edac-highlight-panel-description-title" tabindex="0">\n\t\t\t<button class="edac-highlight-panel-description-close edac-highlight-panel-controls-close" aria-label="Close">×</button>\n\t\t\t\t<div id="edac-highlight-panel-description-title" class="edac-highlight-panel-description-title"></div>\n\t\t\t\t<div class="edac-highlight-panel-description-content"></div>\n\t\t\t\t<div id="edac-highlight-panel-description-code" class="edac-highlight-panel-description-code"><code></code></div>\n\t\t\t</div>\n\t\t\t<div id="edac-highlight-panel-controls" class="edac-highlight-panel-controls" tabindex="0">\n\t\t\t\t<button id="edac-highlight-panel-controls-close" class="edac-highlight-panel-controls-close" aria-label="Close">×</button>\n\t\t\t\t<div class="edac-highlight-panel-controls-title">Accessibility Checker</div>\n\t\t\t\t<div class="edac-highlight-panel-controls-summary">Loading...</div>\n\t\t\t\t<div class="edac-highlight-panel-controls-buttons">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button id="edac-highlight-previous" disabled="true"><span aria-hidden="true">« </span>Previous</button>\n\t\t\t\t\t\t<button id="edac-highlight-next" disabled="true">Next<span aria-hidden="true"> »</span></button><br />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button id="edac-highlight-disable-styles" class="edac-highlight-disable-styles" aria-live="polite" aria-label="${re("Disable Page Styles","accessibility-checker")}">${re("Disable Styles","text-domain")}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t\t</div>\n\t\t`;return document.body.insertAdjacentHTML("afterbegin",t),document.getElementById("edac-highlight-panel")}highlightFocusNext=()=>{null===this.currentButtonIndex?this.currentButtonIndex=0:this.currentButtonIndex=(this.currentButtonIndex+1)%this.issues.length;const t=this.issues[this.currentButtonIndex].id;this.showIssue(t)};highlightFocusPrevious=()=>{null===this.currentButtonIndex?this.currentButtonIndex=this.issues.length-1:this.currentButtonIndex=(this.currentButtonIndex-1+this.issues.length)%this.issues.length;const t=this.issues[this.currentButtonIndex].id;this.showIssue(t)};focusTrapControls=()=>{this.panelDescriptionFocusTrap.deactivate(),this.panelControlsFocusTrap.activate(),setTimeout((()=>{this.panelControls.focus()}),100)};focusTrapDescription=()=>{this.panelControlsFocusTrap.deactivate(),this.panelDescriptionFocusTrap.activate(),setTimeout((()=>{this.panelDescription.focus()}),100)};showIssue=t=>{if(this.removeSelectedClasses(),void 0===t)return;const e=this.issues.find((e=>e.id===t));this.currentButtonIndex=this.issues.findIndex((e=>e.id===t));const n=e.tooltip,i=e.element;n&&i?(n.classList.add("edac-highlight-btn-selected"),i.classList.add("edac-highlight-element-selected"),i.offsetWidth<20&&i.classList.add("edac-highlight-element-selected-min-width"),i.offsetHeight<5&&i.classList.add("edac-highlight-element-selected-min-height"),i.scrollIntoView({block:"center"}),rt(n)?this.checkVisibility(n)&&this.checkVisibility(i)?this.currentIssueStatus=null:this.currentIssueStatus="The element is not visible. Try disabling styles.":this.currentIssueStatus="The element is not focusable. Try disabling styles."):this.currentIssueStatus="The element was not found on the page.",this.descriptionOpen(t)};checkVisibility=t=>"function"!=typeof t.checkVisibility?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):t.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0});panelOpen(t){this.highlightPanel.classList.add("edac-highlight-panel-visible"),this.panelControls.style.display="block",this.panelToggle.style.display="none",this.nextButton.disabled=!0,this.previousButton.disabled=!0,this.highlightAjax().then((e=>{this.issues=e.issues,this.fixes=e.fixes,e.issues.forEach(function(t,e){const n=this.findElement(t,e);null!==n&&(this.issues[e].element=n)}.bind(this)),this.showIssueCount(),void 0!==t&&(this.showIssue(t),this.focusTrapDescription())})).catch((t=>{}))}panelClose(){this.highlightPanel.classList.remove("edac-highlight-panel-visible"),this.panelControls.style.display="none",this.panelDescription.style.display="none",this.panelToggle.style.display="block",this.removeSelectedClasses(),this.removeHighlightButtons(),this.closePanel.removeEventListener("click",this.panelControlsFocusTrap.deactivate),this.panelToggle.focus()}removeSelectedClasses=()=>{document.querySelectorAll(".edac-highlight-btn-selected").forEach((t=>{t.classList.remove("edac-highlight-btn-selected")})),document.querySelectorAll(".edac-highlight-element-selected").forEach((t=>{t.classList.remove("edac-highlight-element-selected","edac-highlight-element-selected-min-width","edac-highlight-element-selected-min-height"),0===t.classList.length&&t.removeAttribute("class")}))};descriptionOpen(t){const e=t,n=this.issues.find((t=>t.id===e));if(n){const t=document.querySelector(".edac-highlight-panel-description-title"),e=document.querySelector(".edac-highlight-panel-description-content"),i=document.querySelector(".edac-highlight-panel-description-code code");let o="";o+=` <div class="edac-highlight-panel-description-index">${this.currentButtonIndex+1} of ${this.issues.length}</div>`,this.currentIssueStatus&&(o+=` <div class="edac-highlight-panel-description-status">${this.currentIssueStatus}</div>`),o+=n.summary,this.fixes[n.slug]&&window.edacFrontendHighlighterApp?.userCanFix?(o+=`\n\t\t\t\t\t<div style="display:none;" class="always-hide">\n\t\t\t\t\t\t<div class="edac-fix-settings">\n\t\t\t\t\t\t\t<div class="edac-fix-settings--fields">\n\t\t\t\t\t\t\t\t${this.fixes[n.slug].fields}\n\t\t\t\t\t\t\t\t<div class="edac-fix-settings--action-row">\n\t\t\t\t\t\t\t\t\t<button role="button" class="button button-primary edac-fix-settings--button--save">\n\t\t\t\t\t\t\t\t\t\t${re("Save","accessibility-checker")}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<span class="edac-fix-settings--notice-slot" aria-live="polite" role="alert"></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`,o+=` <br />\n \t\t\t\t\t<button role="button"\n \t\t\t\t\t\tclass="edac-fix-settings--button--open edac-highlight-panel-description--button"\n \t\t\t\t\t\taria-haspopup="true"\n \t\t\t\t\t\taria-controls="edac-highlight-panel-description-fix"\n\t\t\t\t\t\taria-label="Fix issue: ${this.fixes[n.slug][Object.keys(this.fixes[n.slug])[0]].group_name}"> \t\t\t\t\t\tFix Issue</button>`):o+=" <br />",o+=`<a class="edac-highlight-panel-description-reference" href="${n.link}">Full Documentation</a>`,o+='<button class="edac-highlight-panel-description-code-button" aria-expanded="false" aria-controls="edac-highlight-panel-description-code">Show Code</button>',t.innerHTML=n.rule_title+' <span class="edac-highlight-panel-description-type edac-highlight-panel-description-type-'+n.rule_type+'" aria-label=" Issue type: '+n.rule_type+'"> '+n.rule_type+"</span>",e.innerHTML=o;const r=n.object,s=(new DOMParser).parseFromString(r,"text/html").body.firstElementChild;if(s)i.innerText=s.outerHTML;else{const t=document.createTextNode(n.object);i.innerText=t.nodeValue}this.fixes[n.slug]&&window.edacFrontendHighlighterApp?.userCanFix&&(this.fixSettingsButton=document.querySelector(".edac-fix-settings--button--open"),this.fixSettingsButton.addEventListener("click",(t=>{this.showFixSettings(t)})),this.fixSettingsButton.display="block",this.fixSettingsSaveButton=document.querySelector(".edac-fix-settings--button--save"),this.fixSettingsSaveButton.addEventListener("click",(t=>{se(t.target.closest(".edac-fix-settings"))}))),this.codeContainer=document.querySelector(".edac-highlight-panel-description-code"),this.codeButton=document.querySelector(".edac-highlight-panel-description-code-button"),this.codeButton.addEventListener("click",(()=>this.codeToggle())),this.codeContainer.style.display="none",this.panelDescription.style.display="block"}}descriptionClose(){this.panelDescription.style.display="none",this.focusTrapControls()}disableStyles(){if(!document.querySelector("#edac-app-css")){const t=document.createElement("link");t.rel="stylesheet",t.id="edac-app-css",t.type="text/css",t.href=edacFrontendHighlighterApp.appCssUrl,t.media="all",document.head.appendChild(t)}this.originalCss=Array.from(document.head.querySelectorAll('style[type="text/css"], style, link[rel="stylesheet"]')),document.querySelectorAll('*[style]:not([class^="edac"])').forEach((function(t){t.removeAttribute("style")})),this.originalCss=this.originalCss.filter((function(t){return"edac-app-css"!==t.id&&"dashicons-css"!==t.id})),document.head.dataset.css=this.originalCss,this.originalCss.forEach((function(t){t.remove()})),document.querySelector("body").classList.add("edac-app-disable-styles"),this.stylesDisabled=!0,this.disableStylesButton.textContent="Enable Styles"}enableStyles(){this.originalCss.forEach((function(t){if("STYLE"===t.tagName)document.head.appendChild(t.cloneNode(!0));else{const e=document.createElement("link");e.rel="stylesheet",e.href=t.href,document.head.appendChild(e)}})),document.querySelector("body").classList.remove("edac-app-disable-styles"),this.stylesDisabled=!1,this.disableStylesButton.textContent="Disable Styles"}get_url_parameter(t){const e=window.location.search.substring(1).split("&");let n,i;for(i=0;i<e.length;i++)if(n=e[i].split("="),n[0]===t)return void 0===n[1]||decodeURIComponent(n[1]);return!1}codeToggle(){"none"===this.codeContainer.style.display||""===this.codeContainer.style.display?(this.codeContainer.style.display="block",this.codeButton.setAttribute("aria-expanded","true")):(this.codeContainer.style.display="none",this.codeButton.setAttribute("aria-expanded","false"))}showFixSettings(t){const e=t.target.closest(".edac-highlight-panel-description-content").querySelector(".edac-fix-settings");if(!e)return;const n=document.createElement("span");n.classList.add("edac-fix-settings--origin-placeholder"),e.parentNode.insertBefore(n,e),e.remove(),((t="",e="")=>{""===e&&((e=document.createElement("p")).innerText=re("There are no settings to display.","accessibility-checker"));const n=document.createElement("div");n.classList.add("edac-fix-settings--clone--wrapper"),n.appendChild(e);let i=n.querySelector("[data-fancy-name]")?.getAttribute("data-fancy-name")||"";""===i&&(i=n.querySelector("[data-group-name]")?.getAttribute("data-group-name")||"");const o=document.getElementById("edac-fixes-modal"),r=o.querySelector("#edac-fixes-modal-title"),s=o.querySelector(".edac-fixes-modal__body");r.innerText=i,s.innerHTML=t,s.appendChild(n),o.querySelectorAll("input, select, textarea").forEach((t=>{const e=()=>{document.dispatchEvent(new CustomEvent("edac-fix-settings-change"))};t.addEventListener("change",e),le.push({field:t,changeListener:e})})),o.querySelector(".edac-fix-settings--button--save").addEventListener("click",(()=>{se(s.querySelector(".edac-fix-settings--fields"))})),document.addEventListener("edac-fix-settings-change",(()=>{o.querySelector("[aria-live]").innerText=""}))})(`<p class="modal-opening-message">${re("These settings enable global fixes across your entire site. Pages may need to be resaved or a full site scan run to see fixes reflected in reports.","accessibility-checker")}</p>`,e),this.panelDescriptionFocusTrap.pause(),(t=>{const e=document.getElementById("edac-fixes-modal");e.classList.add("edac-fixes-modal--open"),e.setAttribute("aria-hidden","false"),e.setAttribute("aria-modal","true"),Array.from(document.body.children).forEach((t=>{"edac-fixes-modal"===t.id||t.classList.contains("edac-fixes-modal__overlay")||!0!==t.getAttribute("aria-hidden")&&(t.setAttribute("aria-hidden","true"),t.setAttribute("data-hidden-by-modal","true"))})),document.body.classList.add("edac-fixes-modal--open"),ae=t;const n=e.querySelector(".edac-fixes-modal__body").querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n&&setTimeout((()=>{n.focus()}),100),e.addEventListener("keydown",(t=>{if("Tab"===t.key){const n=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=n[0],o=n[n.length-1];t.shiftKey&&document.activeElement===i?(t.preventDefault(),o.focus()):t.shiftKey||document.activeElement!==o||(t.preventDefault(),i.focus())}}))})(t.target),document.addEventListener("edac-fixes-modal-closed",(()=>{this.panelDescriptionFocusTrap.unpause()}))}countIssues(t){let e=0;for(const n of this.issues)n.rule_type===t&&e++;return e}countIgnored(){let t=0;for(const e of this.issues)1===e.ignored&&t++;return t}showIssueCount(){const t=this.countIssues("error"),e=this.countIssues("warning"),n=this.countIgnored(),i=document.querySelector(".edac-highlight-panel-controls-summary");let o="No issues detected.";(t>0||e>0||n>0)&&(o="",this.nextButton.disabled=!1,this.previousButton.disabled=!1,t>=0&&(o+=t+" error"+(1===t?"":"s")+", "),e>=0&&(o+=e+" warning"+(1===e?"":"s")+", "),n>=0?o+="and "+n+" ignored issue"+(1===n?"":"s")+" detected.":o=o.slice(0,-2)+" detected."),i.textContent=o}}window.addEventListener("DOMContentLoaded",(()=>{new he,window.edacFrontendHighlighterApp?.userCanFix&&((()=>{const t=document.createElement("div");t.id="edac-fixes-modal",t.classList.add("edac-fixes-modal"),t.setAttribute("role","dialog"),t.setAttribute("aria-modal","false"),t.setAttribute("aria-labelledby","edac-fixes-modal-title"),t.innerHTML=`\n\t\t<div class="edac-fixes-modal__content">\n\t\t\t<div class="edac-fixes-modal__header">\n\t\t\t\t<h2 id="edac-fixes-modal-title">${re("Fix Settings","accessibility-checker")}</h2>\n\t\t\t\t<button class="edac-fixes-modal__close" aria-label="${re("Close fixes modal","accessibility-checker")}">\n\t\t\t\t\t<span class="dashicons dashicons-no-alt"></span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="edac-fixes-modal__body">\n\t\t\t</div>\n\t\t</div>\n\t`;const e=document.createElement("div");e.classList.add("edac-fixes-modal__overlay"),e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),document.body.appendChild(e),document.body.appendChild(t)})(),document.querySelector(".edac-fixes-modal__close").addEventListener("click",(()=>{de()})),document.addEventListener("keydown",(t=>{document.activeElement.closest(".edac-fixes-modal")&&"Escape"===t.key&&de()})))}))})()})();